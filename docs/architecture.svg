<svg width="960" height="560" viewBox="0 0 960 560" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .box { fill: #f9fafb; stroke: #1f2933; stroke-width: 1.6; rx: 12; ry: 12; }
      .title { font-size: 16px; font-weight: 600; fill: #111827; font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif; }
      .desc { font-size: 13px; fill: #374151; font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif; }
      .group { fill: #ffffff; stroke: #d1d5db; stroke-width: 1; }
    </style>
    <marker id="arrow" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L12,6 L0,12 z" fill="#1f2933" />
    </marker>
  </defs>

  <rect class="group" x="20" y="20" width="920" height="520" rx="16" ry="16"/>

  <rect class="box" x="50" y="90" width="210" height="90"/>
  <text class="title" x="155" y="120" text-anchor="middle">浏览器 / 团队成员</text>
  <text class="desc" x="155" y="145" text-anchor="middle">运营 · 研发 · 评估 · 运维</text>

  <rect class="box" x="300" y="70" width="220" height="130"/>
  <text class="title" x="410" y="105" text-anchor="middle">前端应用</text>
  <text class="desc" x="410" y="130" text-anchor="middle">Vue 3 · Vite · Element Plus</text>
  <text class="desc" x="410" y="150" text-anchor="middle">Nginx 托管静态资源 / 调用 REST</text>

  <rect class="box" x="560" y="50" width="360" height="170"/>
  <text class="title" x="740" y="90" text-anchor="middle">后端 API 层</text>
  <text class="desc" x="740" y="115" text-anchor="middle">FastAPI + Uvicorn · Pydantic 校验</text>
  <text class="desc" x="740" y="135" text-anchor="middle">路由定义 / 依赖注入 / OpenAPI</text>
  <text class="desc" x="740" y="155" text-anchor="middle">Service 层：Prompt / 任务 / 指标逻辑</text>

  <rect class="box" x="300" y="240" width="220" height="110"/>
  <text class="title" x="410" y="270" text-anchor="middle">配置 &amp; 权限</text>
  <text class="desc" x="410" y="295" text-anchor="middle">Pydantic Settings · .env</text>
  <text class="desc" x="410" y="315" text-anchor="middle">API Token / Team Role 管控</text>

  <rect class="box" x="560" y="250" width="180" height="120"/>
  <text class="title" x="650" y="285" text-anchor="middle">PostgreSQL</text>
  <text class="desc" x="650" y="310" text-anchor="middle">提示词 · 版本 · 评估任务</text>
  <text class="desc" x="650" y="330" text-anchor="middle">SQLAlchemy ORM + Alembic</text>

  <rect class="box" x="760" y="250" width="150" height="120"/>
  <text class="title" x="835" y="285" text-anchor="middle">Redis</text>
  <text class="desc" x="835" y="310" text-anchor="middle">缓存 · 分布式锁</text>
  <text class="desc" x="835" y="330" text-anchor="middle">Celery Broker / Result Backend</text>

  <rect class="box" x="640" y="410" width="230" height="110"/>
  <text class="title" x="755" y="445" text-anchor="middle">Celery Worker</text>
  <text class="desc" x="755" y="468" text-anchor="middle">异步评估 / 指标计算</text>
  <text class="desc" x="755" y="488" text-anchor="middle">批量模型调用 · 失败重试</text>

  <rect class="box" x="50" y="260" width="220" height="130"/>
  <text class="title" x="160" y="295" text-anchor="middle">模型服务 / LLM Provider</text>
  <text class="desc" x="160" y="320" text-anchor="middle">OpenAI · Anthropic · 私有模型</text>
  <text class="desc" x="160" y="340" text-anchor="middle">HTTP / SSE / Batch API</text>

  <rect class="box" x="300" y="410" width="220" height="110"/>
  <text class="title" x="410" y="445" text-anchor="middle">监控与日志</text>
  <text class="desc" x="410" y="468" text-anchor="middle">结构化日志 · Metrics · Tracing</text>
  <text class="desc" x="410" y="488" text-anchor="middle">Grafana / Sentry（可选）</text>

  <path d="M260 135 L300 135" stroke="#1f2933" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <path d="M520 135 L560 135" stroke="#1f2933" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <path d="M410 240 L410 200 L560 150" stroke="#1f2933" stroke-width="1.8" fill="none" marker-end="url(#arrow)"/>
  <path d="M740 220 L700 250" stroke="#1f2933" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <path d="M820 220 L835 250" stroke="#1f2933" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <path d="M780 220 L780 410" stroke="#1f2933" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <path d="M750 220 L270 325" stroke="#1f2933" stroke-width="1.8" fill="none" marker-end="url(#arrow)"/>
  <path d="M640 200 L520 390 L520 430" stroke="#1f2933" stroke-width="1.6" fill="none" marker-end="url(#arrow)"/>
  <path d="M720 430 L520 430" stroke="#1f2933" stroke-width="1.6" fill="none" marker-end="url(#arrow)"/>
  <path d="M520 190 L260 320" stroke="#1f2933" stroke-width="1.6" fill="none" marker-end="url(#arrow)"/>
  <path d="M835 370 L835 410" stroke="#1f2933" stroke-width="1.6" fill="none" marker-end="url(#arrow)"/>
  <path d="M760 470 L300 470" stroke="#1f2933" stroke-width="1.6" fill="none" marker-end="url(#arrow)"/>
  <path d="M650 370 L650 250" stroke="#1f2933" stroke-width="1.6" fill="none" marker-end="url(#arrow)"/>
  <path d="M640 440 L240 340" stroke="#1f2933" stroke-width="1.6" fill="none" marker-end="url(#arrow)"/>
  <path d="M410 350 L640 420" stroke="#1f2933" stroke-width="1.6" fill="none" marker-end="url(#arrow)"/>
  <path d="M300 455 L200 180" stroke="#1f2933" stroke-width="1.6" fill="none" marker-end="url(#arrow)"/>
</svg>
